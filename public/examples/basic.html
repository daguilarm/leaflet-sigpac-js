<!DOCTYPE html>
<html>
<head>
  <title>SIGPAC Map</title>
  
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  
  <!-- Rutas para probar en desarrollo, usando "npm run dev" -->
  <link rel="stylesheet" href="../dist/assets/css/leaflet-sigpac.min.css" />
  <script type="module" src="../dist/assets/js/leaflet-sigpac.es.min.js"></script>
</head>
<body>

  <div id="map" style="height: 500px;"></div>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const manager = new window.LeafletSigpac.MapManager({
        debug: true,
        hideLeafletAttribution: false,
        minZoomFeature: 12,
        // clickEnabled: false,
        interactionMode: 'marker', // 'popup' or 'marker'
        
        // In case we use the popup value for interactionMode.
        // popupFields: (parcelaData) => [
        //   { label: 'Provincia:', value: parcelaData.provincia },
        //   { label: 'Municipio:', value: parcelaData.municipio },
        //   { label: 'Pol√≠gono:', value: parcelaData.poligono },
        //   { label: 'Parcela:', value: parcelaData.parcela },
        //   { label: 'Superficie:', value: parcelaData.superficie, suffix: 'ha' }
        // ],

        // Custom cache if you need other configuration
        // cacheConfig: {
        //   enabled: true,
        //   ttl: 300000, // 5 minutos
        //   maxSize: 50,
        //   precision: 4
        // },
        
        defaultMapOptions: {
          center: [37.718387, -0.874100],
          zoom: 15,
          tileUrl: 'https://tms-pnoa-ma.idee.es/1.0.0/pnoa-ma/{z}/{x}/{-y}.jpeg',
          attribution: '<a href="https://www.scne.es/">CC BY 4.0 scne.es</a>'
        }
      });
      
      // Inicializar el mapa
      manager.init(document.getElementById('map'));
    });
  </script>
</body>
</html>